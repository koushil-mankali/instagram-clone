[{"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\index.js":"1","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\App.js":"2","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Cred.js":"3","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Home.js":"4","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\StatusCmp.js":"5","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Post.js":"6","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Suggestions.js":"7","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\firebase\\firebase.js":"8","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Loader.js":"9","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Profile.js":"10","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Settings.js":"11"},{"size":221,"mtime":1611232285632,"results":"12","hashOfConfig":"13"},{"size":1181,"mtime":1611296900151,"results":"14","hashOfConfig":"13"},{"size":6153,"mtime":1611253211373,"results":"15","hashOfConfig":"13"},{"size":7219,"mtime":1611300825440,"results":"16","hashOfConfig":"13"},{"size":1419,"mtime":1611151326857,"results":"17","hashOfConfig":"13"},{"size":3591,"mtime":1611311963441,"results":"18","hashOfConfig":"13"},{"size":2425,"mtime":1611139051729,"results":"19","hashOfConfig":"13"},{"size":654,"mtime":1611229632371,"results":"20","hashOfConfig":"13"},{"size":114,"mtime":1611241360834,"results":"21","hashOfConfig":"13"},{"size":151,"mtime":1611233848912,"results":"22","hashOfConfig":"13"},{"size":155,"mtime":1611233844009,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"1c6qg0l",{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"33","usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"46"},"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\index.js",[],["49","50"],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\App.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Cred.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Home.js",["51"],"import { useState, useEffect } from \"react\";\r\nimport StatusCmp from \"./StatusCmp\";\r\nimport Post from \"./Post\";\r\nimport Suggestions from \"./Suggestions\";\r\nimport Loader from \"./Loader\";\r\nimport firebase from 'firebase';\r\nimport { db,auth, storage } from \"../firebase/firebase\";\r\n\r\n\r\nimport \"./Home.css\";\r\nimport insta from \"../assets/instagram.png\";\r\nimport profile from \"../assets/Hanuman1.jpg\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport HomeIcon from \"@material-ui/icons/Home\";\r\nimport TelegramIcon from \"@material-ui/icons/Telegram\";\r\nimport ExploreIcon from \"@material-ui/icons/Explore\";\r\nimport FavoriteBorderIcon from \"@material-ui/icons/FavoriteBorder\";\r\nimport RateReviewIcon from \"@material-ui/icons/RateReview\";\r\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\r\n\r\nlet Home = (props) => {\r\n  let [state, setState] = useState({\r\n    search: \"\",\r\n    postDis: false,\r\n    loading: true,\r\n    postDiscContent: \"\",\r\n    postImage : null,\r\n  });\r\n  \r\n  useEffect(()=>{\r\n    localStorage.setItem('userName',props.userName);\r\n  },[]);\r\n \r\n\r\n  let [posts, setPosts] = useState({});\r\n\r\n  useEffect(() => {\r\n       db.collection(\"posts\").onSnapshot((snap) => {\r\n        setPosts(snap.docs.map((doc) => ({\r\n          id: doc.id,\r\n          post: doc.data()\r\n        })));\r\n        setState({loading: false});\r\n      });\r\n    }, []);\r\n    \r\n  let search = (e) => {\r\n    setState({\r\n      ...state,\r\n      search: e.target.value,\r\n    });\r\n  };\r\n\r\n  let postDesci = () => {\r\n    setState({\r\n      ...state,\r\n      postDis: !state.postDis,\r\n    });\r\n  };\r\n\r\n  let postDiscCnt = (e) =>{\r\n    setState({\r\n      ...state,\r\n      postDiscContent : e.target.value\r\n    });\r\n  }\r\n\r\n  let fileUpload = (e) =>{\r\n    if(e.target.files[0]){\r\n      setState({...state,postImage:e.target.files[0]});\r\n    }\r\n  }\r\n\r\n  let postDisc = (e) => {\r\n    e.preventDefault();\r\n    let imgURL =  storage.ref(`images/${state.postImage.name}`).put(state.postImage)\r\n    imgURL.on(\r\n      \"state_changed\",\r\n      () => { \r\n          storage\r\n              .ref(\"images\")\r\n              .child(state.postImage.name)\r\n              .getDownloadURL()\r\n              .then(url =>{\r\n                db.collection('posts').add({\r\n                  postDesc: state.postDiscContent,\r\n                  postImage:url,\r\n                  profilePic:url,\r\n                  time: firebase.firestore.FieldValue.serverTimestamp(),\r\n                  userName: localStorage.getItem('userName')\r\n                })\r\n                .catch(err => alert(err.message))\r\n\r\n                setState({\r\n                  ...state,\r\n                  postDiscContent: \"\",\r\n                  postImage : null\r\n                });\r\n            })\r\n      }\r\n    )\r\n  };\r\n\r\n  let postDescc;\r\n\r\n  if (state.postDis) {\r\n    postDescc = (\r\n      <div className=\"section1\">\r\n        <div className=\"sec1\">\r\n          <form action=\"\" onSubmit={postDisc}>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Add a post ...\"\r\n              className=\"inputComment\"\r\n              value={state.postDiscContent}\r\n              onChange={postDiscCnt}\r\n            />\r\n            <span className=\"upload\">\r\n              <input type=\"file\" name=\"addPic\" id=\"addPic\" className=\"addPic\" onChange={fileUpload} />\r\n              <label htmlFor=\"addPic\" className=\"uploadBtn\">\r\n                Upload\r\n              </label>\r\n            </span>\r\n            <button type=\"submit\" className=\"postComment pstBtn\">\r\n              Post\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  let logout = () =>{\r\n    auth.signOut();\r\n    props.logOut();\r\n    localStorage.removeItem('userName');\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"homeP\">\r\n        <div className=\"header\">\r\n          <img src={insta} alt=\"instagram logo\" className=\"insta_logo\" />\r\n          <div className=\"searchBar\">\r\n            <span>\r\n              <SearchIcon fontSize=\"inherit\" color=\"disabled\" />\r\n            </span>\r\n            <input\r\n              type=\"text\"\r\n              id=\"search\"\r\n              name=\"search\"\r\n              placeholder=\"Search\"\r\n              autoComplete=\"off\"\r\n              onChange={search}\r\n              value={state.search}\r\n            />\r\n          </div>\r\n          <div className=\"menu\">\r\n            <span className=\"menu_icons\">\r\n              <HomeIcon fontSize=\"large\" />\r\n            </span>\r\n            <span className=\"menu_icons\">\r\n              <TelegramIcon fontSize=\"large\" />\r\n            </span>\r\n            <span className=\"menu_icons\">\r\n              <ExploreIcon fontSize=\"large\" />\r\n            </span>\r\n            <span className=\"menu_icons\">\r\n              <FavoriteBorderIcon fontSize=\"large\" />\r\n            </span>\r\n            <span className=\"menu_icons profile\">\r\n              <img src={profile} alt=\"profile pic\" className=\"profilePic\" />\r\n              <ul className=\"menuOptions\" id=\"menuOptions\">\r\n                <li className=\"menuOptsLi\">\r\n                  <Link to=\"/profile\" className=\"menuOptsLiIn\">\r\n                    <span>\r\n                      <AccountCircleIcon />\r\n                    </span>\r\n                    <span className=\"menuOpt\">Profile</span>\r\n                  </Link>\r\n                </li>\r\n                <li className=\"menuOptsLi\">\r\n                  <NavLink to=\"/settings\" className=\"menuOptsLiIn\">\r\n                    <span>\r\n                      <SettingsIcon />\r\n                    </span>\r\n                    <span className=\"menuOpt\">Settings</span>\r\n                  </NavLink>\r\n                </li>\r\n                <li className=\"menuOptsLi arrowUp\">\r\n                  <NavLink to=\"/\" className=\"menuOptsLiIn\">\r\n                    <span>\r\n                      <ExitToAppIcon />\r\n                    </span>\r\n                    <span className=\"menuOpt\" onClick={logout}>Logout</span>\r\n                  </NavLink>\r\n                </li>\r\n              </ul>\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"box1\">\r\n          <div className=\"section2\">\r\n            {postDescc}\r\n            <StatusCmp />\r\n            {\r\n              state.loading ? \r\n              <div className='loaderCSS'>\r\n                <Loader />\r\n              </div>\r\n              :                     \r\n              posts.map(({id,post}) => (\r\n                <Post\r\n                key={id}\r\n                postId = {id}\r\n                userName={post.userName}\r\n                postDesc={post.postDesc}\r\n                postImage={post.postImage}\r\n                profilePic={post.profilePic}\r\n                time={posts.time}\r\n                />\r\n                ))                \r\n            }\r\n          </div>\r\n\r\n\r\n          <div className=\"section3\">\r\n            <Suggestions />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"postDesc\">\r\n        <RateReviewIcon fontSize=\"large\" onClick={postDesci} />\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\StatusCmp.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Post.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Suggestions.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\firebase\\firebase.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Loader.js",[],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Profile.js",[],["52","53"],"C:\\Users\\Koushil\\Desktop\\instagram_clone\\src\\components\\Settings.js",[],{"ruleId":"54","replacedBy":"55"},{"ruleId":"56","replacedBy":"57"},{"ruleId":"58","severity":1,"message":"59","line":36,"column":5,"nodeType":"60","endLine":36,"endColumn":7,"suggestions":"61"},{"ruleId":"54","replacedBy":"62"},{"ruleId":"56","replacedBy":"63"},"no-native-reassign",["64"],"no-negated-in-lhs",["65"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.userName'. Either include it or remove the dependency array.","ArrayExpression",["66"],["64"],["65"],"no-global-assign","no-unsafe-negation",{"desc":"67","fix":"68"},"Update the dependencies array to be: [props.userName]",{"range":"69","text":"70"},[1237,1239],"[props.userName]"]